import request from '@/utils/axios/index';

export interface MessageData {
  id: string;
  time: string;
  content: string;
}

// è‚¡ç¥¨åˆ†æžæŠ¥å‘Šæ•°æ®
const stockReport =
  '## è‚¡ç¥¨000001æŠ€æœ¯åˆ†æžæŠ¥å‘Š\n\n### ä¸€ã€ä»·æ ¼è¶‹åŠ¿åˆ†æž\n\nåŸºäºŽ2025å¹´7æœˆ1æ—¥è‡³10æœˆ14æ—¥çš„äº¤æ˜“æ•°æ®ï¼Œ000001å‘ˆçŽ°å‡ºæ˜Žæ˜¾çš„ä¸‹è·Œè¶‹åŠ¿ã€‚è¯¥è‚¡ä»ŽæœŸåˆä»·æ ¼12.30å…ƒä¸‹è·Œè‡³æœŸæœ«11.57å…ƒï¼ŒæœŸé—´ç´¯è®¡ä¸‹è·Œ0.73å…ƒï¼Œè·Œå¹…è¾¾5.93%ã€‚ä»Žä»·æ ¼èµ°åŠ¿æ¥çœ‹ï¼Œè¯¥è‚¡åœ¨åˆ†æžæœŸé—´å†…ç»åŽ†äº†ä¸‰ä¸ªé˜¶æ®µï¼š\n\n**ä¸‹è·Œé˜¶æ®µï¼ˆ7æœˆ-8æœˆï¼‰**ï¼šè‚¡ä»·ä»Ž12.30å…ƒé™„è¿‘å¼€å§‹éœ‡è¡ä¸‹è¡Œï¼ŒæœŸé—´æœ€é«˜è§¦åŠ13.33å…ƒï¼Œä½†æœªèƒ½æœ‰æ•ˆçªç ´ï¼ŒéšåŽè¿›å…¥è°ƒæ•´æœŸã€‚\n\n**éœ‡è¡ç­‘åº•é˜¶æ®µï¼ˆ9æœˆï¼‰**ï¼šè‚¡ä»·åœ¨11.27-12.00å…ƒåŒºé—´å†…åå¤éœ‡è¡ï¼Œ11.27å…ƒæˆä¸ºé‡è¦çš„é˜¶æ®µæ€§ä½Žç‚¹ï¼Œæ˜¾ç¤ºå‡ºä¸€å®šçš„æ”¯æ’‘åŠ›åº¦ã€‚\n\n**åå¼¹è¯•æŽ¢é˜¶æ®µï¼ˆ10æœˆï¼‰**ï¼šè¿‘æœŸè‚¡ä»·ä»Ž11.27å…ƒä½Žç‚¹å¼€å§‹åå¼¹ï¼Œæœ€æ–°æ”¶ç›˜ä»·11.57å…ƒï¼Œè¾ƒå‰æœŸä½Žç‚¹åå¼¹çº¦2.66%ï¼Œä½†æ•´ä½“ä»å¤„äºŽä¸‹è¡Œé€šé“ä¸­ã€‚\n\nä»Žæ—¥çº¿çº§åˆ«è§‚å¯Ÿï¼Œè¯¥è‚¡ç›®å‰ä»å—åˆ¶äºŽä¸‹è¡Œè¶‹åŠ¿çº¿çš„åŽ‹åˆ¶ï¼Œéœ€è¦æœ‰æ•ˆçªç ´12.00å…ƒå…³é”®é˜»åŠ›ä½æ‰èƒ½ç¡®è®¤è¶‹åŠ¿åè½¬ã€‚\n\n### äºŒã€æŠ€æœ¯æŒ‡æ ‡è§£è¯»\n\n**ç§»åŠ¨å¹³å‡çº¿ç³»ç»Ÿ**ï¼š\næ ¹æ®ä»·æ ¼æ•°æ®æŽ¨ç®—ï¼Œè¯¥è‚¡çŸ­æœŸå‡çº¿ï¼ˆ5æ—¥ã€10æ—¥ï¼‰ç›®å‰ä½äºŽ11.40-11.50å…ƒåŒºé—´ï¼Œä¸­æœŸå‡çº¿ï¼ˆ20æ—¥ã€30æ—¥ï¼‰åœ¨11.60-11.80å…ƒåŒºé—´ï¼Œé•¿æœŸå‡çº¿ï¼ˆ60æ—¥ï¼‰çº¦åœ¨12.00å…ƒé™„è¿‘ã€‚å½“å‰è‚¡ä»·11.57å…ƒä½äºŽçŸ­æœŸå‡çº¿ä¹‹ä¸Šï¼Œä½†ä»åœ¨ä¸­æœŸå’Œé•¿æœŸå‡çº¿ä¹‹ä¸‹ï¼Œè¡¨æ˜ŽçŸ­æœŸè™½æœ‰åå¼¹ï¼Œä½†ä¸­é•¿æœŸè¶‹åŠ¿ä»ç„¶åå¼±ã€‚\n\n**ç›¸å¯¹å¼ºå¼±æŒ‡æ ‡ï¼ˆRSIï¼‰**ï¼š\nåŸºäºŽè¿‘æœŸä»·æ ¼æ³¢åŠ¨è®¡ç®—ï¼ŒRSIæŒ‡æ ‡ç›®å‰çº¦åœ¨45-50åŒºé—´ï¼Œå¤„äºŽä¸­æ€§åå¼±åŒºåŸŸï¼Œæ—¢æœªè¿›å…¥è¶…å–åŒºé—´ï¼ˆ30ä»¥ä¸‹ï¼‰ï¼Œä¹Ÿæœªè¾¾åˆ°è¶…ä¹°åŒºé—´ï¼ˆ70ä»¥ä¸Šï¼‰ï¼Œæ˜¾ç¤ºå¤šç©ºåŠ›é‡ç›¸å¯¹å‡è¡¡ï¼Œä½†ç©ºå¤´ä»ç•¥å ä¼˜åŠ¿ã€‚\n\n**MACDæŒ‡æ ‡**ï¼š\nä»Žä»·æ ¼æ•°æ®æŽ¨æ–­ï¼ŒMACDæŒ‡æ ‡çš„å¿«æ…¢çº¿ä»åœ¨é›¶è½´ä¸‹æ–¹è¿è¡Œï¼Œä½†è¿‘æœŸDIFæœ‰å‘ä¸Šé è¿‘DEAçš„è¶‹åŠ¿ï¼ŒæŸ±çŠ¶å›¾ç¼©çª„ï¼Œæ˜¾ç¤ºä¸‹è·ŒåŠ¨èƒ½æœ‰æ‰€å‡å¼±ï¼Œä½†å°šæœªå½¢æˆæ˜Žç¡®çš„ä¹°å…¥ä¿¡å·ã€‚\n\n**å¸ƒæž—å¸¦åˆ†æž**ï¼š\nè‚¡ä»·ç›®å‰è¿è¡Œåœ¨å¸ƒæž—å¸¦ä¸­è½¨é™„è¿‘ï¼Œå¸ƒæž—å¸¦å‘ˆçŽ°æ”¶çª„æ€åŠ¿ï¼Œè¡¨æ˜Žæ³¢åŠ¨çŽ‡é™ä½Žï¼Œå¯èƒ½é¢„ç¤ºç€å³å°†å‡ºçŽ°æ–¹å‘æ€§é€‰æ‹©ã€‚\n\n### ä¸‰ã€æ”¯æ’‘é˜»åŠ›ä½åˆ†æž\n\n**å…³é”®æ”¯æ’‘ä½**ï¼š\n1. **é¦–è¦æ”¯æ’‘ä½ï¼š11.27å…ƒ** - æ­¤ä¸ºè¿‘æœŸæœ€ä½Žç‚¹ï¼Œä¹Ÿæ˜¯9æœˆä»½å¤šæ¬¡æµ‹è¯•æœªç ´çš„é‡è¦æ”¯æ’‘\n2. **æ¬¡è¦æ”¯æ’‘ä½ï¼š11.00å…ƒ** - å¿ƒç†æ•´æ•°å…³å£ï¼Œå¦‚è·Œç ´11.27å…ƒï¼Œæ­¤ä½ç½®å°†æä¾›ä¸‹ä¸€é“é˜²çº¿\n3. **å¼ºæ”¯æ’‘ä½ï¼š10.50å…ƒ** - å‰æœŸé‡è¦æˆäº¤å¯†é›†åŒº\n\n**å…³é”®é˜»åŠ›ä½**ï¼š\n1. **è¿‘æœŸé˜»åŠ›ä½ï¼š11.80-12.00å…ƒ** - 20æ—¥ã€30æ—¥å‡çº¿æ±‡èšåŒºåŸŸï¼Œä¹Ÿæ˜¯å‰æœŸéœ‡è¡åŒºé—´ä¸‹æ²¿\n2. **ä¸­æœŸé˜»åŠ›ä½ï¼š12.50å…ƒ** - 8æœˆä»½éœ‡è¡å¹³å°ä¸‹æ²¿\n3. **å¼ºé˜»åŠ›ä½ï¼š13.00-13.33å…ƒ** - å‰æœŸé«˜ç‚¹åŒºåŸŸï¼Œçªç ´éš¾åº¦è¾ƒå¤§\n\n### å››ã€æˆäº¤é‡åˆ†æž\n\næˆäº¤é‡å˜åŒ–æä¾›äº†é‡è¦çš„å¸‚åœºæƒ…ç»ªå‚è€ƒï¼š\n\n**æˆäº¤é‡ç‰¹å¾**ï¼š\n- 7-8æœˆä¸‹è·ŒæœŸé—´ï¼šæˆäº¤é‡ç›¸å¯¹å¹³ç¨³ï¼Œæ˜¾ç¤ºæŠ›åŽ‹å¹¶ä¸é›†ä¸­\n- 9æœˆç­‘åº•æœŸé—´ï¼šæˆäº¤é‡èŽç¼©ï¼Œè¡¨æ˜Žå¸‚åœºè§‚æœ›æƒ…ç»ªæµ“åŽš\n- 10æœˆåå¼¹æœŸé—´ï¼šæˆäº¤é‡æ˜Žæ˜¾æ”¾å¤§ï¼Œæœ€æ–°äº¤æ˜“æ—¥æˆäº¤184ä¸‡æ‰‹ï¼Œæˆäº¤é¢21.24äº¿å…ƒï¼Œæ¢æ‰‹çŽ‡0.95%\n\n**é‡ä»·å…³ç³»åˆ†æž**ï¼š\nè¿‘æœŸä»·æ¶¨é‡å¢žçš„æ€åŠ¿è¾ƒä¸ºå¥åº·ï¼Œ10æœˆ14æ—¥æˆäº¤é‡è¾ƒå‰ä¸€æ—¥æ”¾å¤§57.7%ï¼Œé…åˆä»·æ ¼ä¸Šæ¶¨1.49%ï¼Œæ˜¾ç¤ºæœ‰èµ„é‡‘å¼€å§‹å…³æ³¨å¹¶ä»‹å…¥ã€‚è¿™ç§æ”¾é‡ä¸Šæ¶¨çš„æ€åŠ¿å¦‚æžœèƒ½å¤ŸæŒç»­ï¼Œå°†æœ‰åˆ©äºŽåå¼¹è¡Œæƒ…çš„å»¶ç»­ã€‚\n\n### äº”ã€ç»¼åˆè¯„ä¼°ä¸ŽæŠ•èµ„å»ºè®®\n\n**æŠ€æœ¯é¢ç»¼åˆè¯„çº§ï¼šä¸­æ€§åè°¨æ…Ž**\n\n**çŸ­æœŸèµ°åŠ¿ï¼ˆ1-2å‘¨ï¼‰**ï¼š\nè‚¡ä»·åœ¨11.27å…ƒèŽ·å¾—æ”¯æ’‘åŽå±•å¼€æŠ€æœ¯æ€§åå¼¹ï¼ŒçŸ­æœŸæœ‰æœ›ç»§ç»­ä¸ŠæŽ¢11.80-12.00å…ƒé˜»åŠ›åŒºåŸŸã€‚å¦‚èƒ½æ”¾é‡çªç ´12.00å…ƒï¼Œåˆ™åå¼¹ç©ºé—´æœ‰æœ›è¿›ä¸€æ­¥æ‰“å¼€è‡³12.50å…ƒã€‚\n\n**ä¸­æœŸèµ°åŠ¿ï¼ˆ1-3ä¸ªæœˆï¼‰**ï¼š\nä¸­æœŸè¶‹åŠ¿ä»ç„¶åå¼±ï¼Œéœ€è¦è§‚å¯Ÿèƒ½å¦æœ‰æ•ˆç«™ç¨³12.00å…ƒä¸Šæ–¹ã€‚å¦‚èƒ½æˆåŠŸçªç ´å¹¶ç«™ç¨³ï¼Œåˆ™ä¸­æœŸä¸‹è·Œè¶‹åŠ¿æœ‰æœ›å¾—åˆ°æ‰­è½¬ã€‚\n\n**æŠ•èµ„å»ºè®®**ï¼š\n\n**å¯¹äºŽæŒä»“æŠ•èµ„è€…**ï¼š\n- è½»ä»“è€…å¯åœ¨è‚¡ä»·å›žè°ƒè‡³11.30-11.40å…ƒæ”¯æ’‘åŒºé—´æ—¶é€‚é‡åŠ ä»“\n- é‡ä»“è€…å»ºè®®åœ¨11.80-12.00å…ƒé˜»åŠ›åŒºé—´è€ƒè™‘å‡ä»“éƒ¨åˆ†ç­¹ç ï¼Œé™ä½ŽæŒä»“æˆæœ¬\n\n**å¯¹äºŽç©ºä»“æŠ•èµ„è€…**ï¼š\n- æ¿€è¿›åž‹ï¼šå¯åœ¨11.30-11.40å…ƒåŒºé—´è½»ä»“ä»‹å…¥ï¼Œæ­¢æŸä½è®¾åœ¨11.00å…ƒä¸‹æ–¹\n- ç¨³å¥åž‹ï¼šå»ºè®®ç­‰å¾…è‚¡ä»·æœ‰æ•ˆçªç ´12.00å…ƒå¹¶å›žè¸©ç¡®è®¤åŽå†è€ƒè™‘ä»‹å…¥\n- ä¿å®ˆåž‹ï¼šç»§ç»­è§‚æœ›ï¼Œç­‰å¾…æ›´æ˜Žç¡®çš„ä¸­æœŸè¶‹åŠ¿ä¿¡å·\n\n**ä»“ä½ç®¡ç†å»ºè®®**ï¼š\nåˆå§‹ä»“ä½ä¸å®œè¶…è¿‡æ€»èµ„é‡‘çš„30%ï¼Œé‡‡ç”¨åˆ†æ‰¹å»ºä»“ç­–ç•¥ï¼Œé¿å…ä¸€æ¬¡æ€§é‡ä»“ä»‹å…¥ã€‚\n\n### å…­ã€é£Žé™©æç¤º\n\n1. **æŠ€æœ¯é£Žé™©**ï¼šå½“å‰è‚¡ä»·ä»å¤„äºŽä¸‹è¡Œè¶‹åŠ¿ä¸­ï¼Œåå¼¹èƒ½å¦æŒç»­å­˜åœ¨ä¸ç¡®å®šæ€§\n2. **çªç ´å¤±è´¥é£Žé™©**ï¼šå¦‚è‚¡ä»·åœ¨11.80-12.00å…ƒé˜»åŠ›åŒºé‡é˜»å›žè½ï¼Œå¯èƒ½å†æ¬¡æµ‹è¯•11.27å…ƒæ”¯æ’‘\n3. **æˆäº¤é‡é£Žé™©**ï¼šéœ€è¦æŒç»­è§‚å¯Ÿæˆäº¤é‡é…åˆæƒ…å†µï¼Œå¦‚å‡ºçŽ°ç¼©é‡ä¸Šæ¶¨éœ€è­¦æƒ•\n4. **å¸‚åœºé£Žé™©**ï¼šæ•´ä½“å¸‚åœºçŽ¯å¢ƒå˜åŒ–å¯èƒ½å½±å“ä¸ªè‚¡æŠ€æœ¯èµ°åŠ¿\n5. **æ—¶é—´é£Žé™©**ï¼šä¸´è¿‘å­£æŠ¥æŠ«éœ²æœŸï¼ŒåŸºæœ¬é¢å˜åŒ–å¯èƒ½å¯¹æŠ€æœ¯èµ°åŠ¿äº§ç”Ÿå½±å“\n\n**é‡è¦å£°æ˜Ž**ï¼šæœ¬æŠ€æœ¯åˆ†æžæŠ¥å‘Šä»…åŸºäºŽåŽ†å²ä»·æ ¼å’Œæˆäº¤é‡æ•°æ®è¿›è¡Œï¼Œä¸æž„æˆä»»ä½•æŠ•èµ„å»ºè®®ã€‚æŠ•èµ„è€…åº”ç»“åˆå…¬å¸åŸºæœ¬é¢ã€è¡Œä¸šçŠ¶å†µã€å¸‚åœºçŽ¯å¢ƒç­‰å¤šæ–¹é¢å› ç´ ç»¼åˆåˆ¤æ–­ï¼Œç‹¬ç«‹åšå‡ºæŠ•èµ„å†³ç­–ï¼Œå¹¶è‡ªè¡Œæ‰¿æ‹…æŠ•èµ„é£Žé™©ã€‚è‚¡å¸‚æœ‰é£Žé™©ï¼ŒæŠ•èµ„éœ€è°¨æ…Žã€‚';

// å¹³å®‰é“¶è¡ŒåŸºæœ¬é¢åˆ†æžæŠ¥å‘Š
const pinganBankReport =
  '## å¹³å®‰é“¶è¡Œï¼ˆ000001ï¼‰åŸºæœ¬é¢åˆ†æžæŠ¥å‘Š\n\n### 1. å…¬å¸åŸºæœ¬ä¿¡æ¯åˆ†æž\n\n**å…¬å¸æ¦‚å†µ**\nå¹³å®‰é“¶è¡Œæ˜¯ä¸­å›½é¢†å…ˆçš„è‚¡ä»½åˆ¶å•†ä¸šé“¶è¡Œï¼Œåœ¨æ·±åœ³è¯åˆ¸äº¤æ˜“æ‰€ä¸Šå¸‚ï¼Œè‚¡ç¥¨ä»£ç 000001ã€‚ä½œä¸ºä¸­å›½é‡‘èžä½“ç³»çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå…¬å¸åœ¨é›¶å”®é“¶è¡Œä¸šåŠ¡æ–¹é¢å…·æœ‰æ˜¾è‘—ä¼˜åŠ¿ï¼Œåœ¨è‚¡ä»½åˆ¶é“¶è¡Œä¸­å¤„äºŽå‰åˆ—åœ°ä½ã€‚\n\n**å¸‚åœºè¡¨çŽ°åˆ†æž**\næ ¹æ®2025å¹´5æœˆ28æ—¥è‡³10æœˆ14æ—¥çš„æ•°æ®æ˜¾ç¤ºï¼š\n- æœ€æ–°æ”¶ç›˜ä»·ï¼šÂ¥11.57ï¼ˆ2025å¹´10æœˆ14æ—¥ï¼‰\n- æœŸé—´æœ€é«˜ä»·ï¼šÂ¥13.33\n- æœŸé—´æœ€ä½Žä»·ï¼šÂ¥11.27\n- æœŸé—´æ¶¨å¹…ï¼š+0.35%ï¼Œè¡¨çŽ°ç›¸å¯¹å¹³ç¨³\n- è¿‘æœŸäº¤æ˜“æ´»è·ƒåº¦æå‡ï¼Œ10æœˆ14æ—¥æ¢æ‰‹çŽ‡è¾¾0.95%\n\n### 2. è´¢åŠ¡çŠ¶å†µè¯„ä¼°\n\n**èµ„äº§è´Ÿå€ºè¡¨è´¨é‡**\n- **èµ„äº§è´Ÿå€ºçŽ‡**ï¼š91.3%ï¼Œç¬¦åˆé“¶è¡Œä¸šç‰¹å¾ï¼Œä½†éœ€å…³æ³¨èµ„äº§è´¨é‡\n- **èµ„äº§è´¨é‡**ï¼šä½œä¸ºå•†ä¸šé“¶è¡Œï¼Œé«˜è´Ÿå€ºçŽ‡å±žè¡Œä¸šå¸¸æ€ï¼Œä½†éœ€é‡ç‚¹å…³æ³¨ä¸è‰¯è´·æ¬¾çŽ‡ç­‰æŒ‡æ ‡\n\n**è´¢åŠ¡ç¨³å¥æ€§**\né“¶è¡Œä¸šç‰¹æœ‰çš„é«˜æ æ†ç»è¥æ¨¡å¼ä½¿å¾—è´¢åŠ¡å¥åº·åº¦è¯„ä¼°éœ€è¦ç»“åˆèµ„äº§è´¨é‡ã€èµ„æœ¬å……è¶³çŽ‡ç­‰ä¸“ä¸šæŒ‡æ ‡è¿›è¡Œç»¼åˆåˆ¤æ–­ã€‚\n\n### 3. ç›ˆåˆ©èƒ½åŠ›åˆ†æž\n\n**æ ¸å¿ƒç›ˆåˆ©æŒ‡æ ‡**\n- **å‡€èµ„äº§æ”¶ç›ŠçŽ‡(ROE)**ï¼š5.2%ï¼Œå¤„äºŽé“¶è¡Œä¸šä¸­ç­‰æ°´å¹³\n- **å‡€åˆ©çŽ‡**ï¼š35.8%ï¼Œè¡¨çŽ°è‰¯å¥½\n- **æ¯›åˆ©çŽ‡**ï¼š71.4%ï¼Œæ˜¾ç¤ºè¾ƒå¼ºçš„æˆæœ¬æŽ§åˆ¶èƒ½åŠ›\n\n**ç›ˆåˆ©è´¨é‡è¯„ä¼°**\nä»Žç›ˆåˆ©æŒ‡æ ‡çœ‹ï¼Œå¹³å®‰é“¶è¡Œä¿æŒäº†ç›¸å¯¹ç¨³å®šçš„ç›ˆåˆ©èƒ½åŠ›ï¼Œå‡€åˆ©çŽ‡æ°´å¹³åœ¨é“¶è¡Œä¸šä¸­è¡¨çŽ°è¾ƒå¥½ï¼Œä½†ROEæ°´å¹³ä»æœ‰æå‡ç©ºé—´ã€‚\n\n### 4. ä¼°å€¼åˆ†æžï¼ˆäººæ°‘å¸è®¡ä»·ï¼‰\n\n**ç›¸å¯¹ä¼°å€¼æŒ‡æ ‡**\n- **å¸‚ç›ˆçŽ‡(PE)**ï¼š8.5å€ï¼Œä½ŽäºŽé“¶è¡Œä¸šå¹³å‡æ°´å¹³ï¼Œä¼°å€¼ç›¸å¯¹åˆç†\n- **å¸‚å‡€çŽ‡(PB)**ï¼š0.44å€ï¼Œæ˜¾è‘—ä½ŽäºŽ1ï¼Œå­˜åœ¨ä¼°å€¼ä¿®å¤ç©ºé—´\n\n**ä¼°å€¼å¸å¼•åŠ›**\nå½“å‰ä¼°å€¼æ°´å¹³å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š\n- å¸‚ç›ˆçŽ‡å¤„äºŽåŽ†å²ç›¸å¯¹ä½Žä½\n- å¸‚å‡€çŽ‡å¤§å¹…æŠ˜ä»·ï¼Œå®‰å…¨è¾¹é™…è¾ƒé«˜\n- ç›¸å¯¹äºŽé“¶è¡Œä¸šæ•´ä½“ä¼°å€¼æ°´å¹³ï¼Œå…·å¤‡ä¸€å®šå¸å¼•åŠ›\n\n### 5. æŠ•èµ„å»ºè®®\n\n**ç»¼åˆè¯„ä¼°**\nåŸºäºŽåŸºæœ¬é¢åˆ†æžï¼Œå¹³å®‰é“¶è¡Œå…·æœ‰ä»¥ä¸‹æŠ•èµ„ç‰¹ç‚¹ï¼š\n\n**ç§¯æžå› ç´ ï¼š**\n- ä¼°å€¼æ°´å¹³åˆç†ï¼Œå®‰å…¨è¾¹é™…è¾ƒé«˜\n- å“ç‰Œä»·å€¼å’Œå¸‚åœºåœ°ä½ç¨³å›º\n- é›¶å”®é“¶è¡Œä¸šåŠ¡ä¼˜åŠ¿æ˜Žæ˜¾\n- é‡‘èžç§‘æŠ€å¸ƒå±€é¢†å…ˆ\n\n**é£Žé™©å› ç´ ï¼š**\n- å®è§‚ç»æµŽçŽ¯å¢ƒä¸ç¡®å®šæ€§\n- åˆ©çŽ‡çŽ¯å¢ƒå˜åŒ–å¯¹å‡€æ¯å·®çš„å½±å“\n- ä¿¡è´·èµ„äº§è´¨é‡åŽ‹åŠ›\n- è¡Œä¸šç›‘ç®¡æ”¿ç­–å˜åŒ–é£Žé™©\n\n**æŠ•èµ„å»ºè®®ï¼šðŸŸ¡ æŒæœ‰**\n\n**å»ºè®®ç†ç”±ï¼š**\n1. å½“å‰ä¼°å€¼æ°´å¹³å…·å¤‡ä¸€å®šå®‰å…¨è¾¹é™…ï¼Œä½†ç¼ºä¹å¼ºåŠ²çš„ä¸Šæ¶¨å‚¬åŒ–å‰‚\n2. é“¶è¡Œä¸šæ•´ä½“é¢ä¸´å®è§‚ç»æµŽåŽ‹åŠ›ï¼Œéœ€è¦è§‚å¯ŸåŽç»­æ”¿ç­–æ•ˆæžœ\n3. å»ºè®®çŽ°æœ‰æŒä»“è€…ç»§ç»­æŒæœ‰ï¼Œæ–°è¿›æŠ•èµ„è€…å¯è€ƒè™‘åˆ†æ‰¹å»ºä»“\n4. é‡ç‚¹å…³æ³¨åŽç»­å­£åº¦è´¢æŠ¥ä¸­çš„èµ„äº§è´¨é‡æŒ‡æ ‡å’Œå‡€æ¯å·®å˜åŒ–\n\n**é£Žé™©æç¤ºï¼š** æŠ•èµ„è€…åº”å¯†åˆ‡å…³æ³¨å®è§‚ç»æµŽæ”¿ç­–å˜åŒ–ã€åˆ©çŽ‡çŽ¯å¢ƒè°ƒæ•´ä»¥åŠå…¬å¸èµ„äº§è´¨é‡å˜åŒ–ï¼Œå»ºè®®ç»“åˆä¸ªäººé£Žé™©æ‰¿å—èƒ½åŠ›è¿›è¡ŒæŠ•èµ„å†³ç­–ã€‚\n\n---\n*æ•°æ®æ¥æºï¼šåŸºäºŽAKShareçœŸå®žè´¢åŠ¡æ•°æ®è®¡ç®—*\n*åˆ†æžæ—¥æœŸï¼š2025å¹´10æœˆ14æ—¥*\n*é‡è¦å£°æ˜Žï¼šæœ¬åˆ†æžä»…ä¾›å‚è€ƒï¼Œä¸æž„æˆæŠ•èµ„å»ºè®®*';

/**
 *  èŽ·å–æ‰€æœ‰æ¶ˆæ¯åˆ—è¡¨
 *  @returns type:MessageData[]
 */
export const fetchMessages = async () => {
  try {
    return await request.post('api/news/get/all');
  } catch (error) {
    console.log(error);
  }
};

/**
 *  èŽ·å–æµ‹è¯•ç”¨æ¶ˆæ¯åˆ—è¡¨
 */
export const mockApiResponse = async () => {
  // æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚å»¶æ—¶
  await new Promise((resolve) => setTimeout(resolve, 1000));
  return {
    code: 0,
    data: [
      {
        id: '0001',
        time: '2025-10-14',
        content: stockReport,
      },
      {
        id: '0002',
        time: '2025-10-13',
        content: pinganBankReport,
      },
      {
        id: '0003',
        time: '2025-10-12',
        content: '## å®è§‚ç»æµŽåˆ†æžæŠ¥å‘Š\n\nå½“å‰ç»æµŽæ•°æ®æ˜¾ç¤ºï¼Œé€šèƒ€åŽ‹åŠ›æœ‰æ‰€ç¼“è§£ï¼Œè´§å¸æ”¿ç­–ä¿æŒç¨³å¥...',
      },
      {
        id: '0004',
        time: '2025-10-11',
        content:
          '## ç§‘æŠ€è¡Œä¸šåŠ¨æ€åˆ†æžæŠ¥å‘Š\n\nç§‘æŠ€æ¿å—è¿‘æœŸè¡¨çŽ°æ´»è·ƒï¼Œäººå·¥æ™ºèƒ½ç›¸å…³æ¦‚å¿µè‚¡å—åˆ°å¸‚åœºå…³æ³¨...',
      },
      {
        id: '0005',
        time: '2025-10-10',
        content:
          '## æŠ•èµ„ç­–ç•¥è°ƒæ•´ä¸Žèµ„äº§é…ç½®å»ºè®®\n\nåŸºäºŽå½“å‰å¸‚åœºçŽ¯å¢ƒï¼Œå»ºè®®é€‚å½“è°ƒæ•´æŠ•èµ„ç»„åˆï¼Œå¢žåŠ é˜²å¾¡æ€§èµ„äº§é…ç½®...',
      },
      {
        id: '0006',
        time: '2025-10-09',
        content:
          '## å€ºåˆ¸å¸‚åœºåˆ†æžä¸ŽæŠ•èµ„æœºä¼šæŠ¥å‘Š\n\nè¿‘æœŸå€ºåˆ¸æ”¶ç›ŠçŽ‡æœ‰æ‰€ä¸Šè¡Œï¼Œä¿¡ç”¨åˆ©å·®æ”¶çª„ï¼ŒæŠ•èµ„æœºä¼šæ˜¾çŽ°...',
      },
    ],
    msg: 'success',
  };
};

const cleanMarkdown = (content: string) => {
  if (!content) return '';

  return (
    content
      // ç§»é™¤æ ‡é¢˜æ ‡è®°
      .replace(/^#{1,6}\s+/gm, '')
      // ç§»é™¤ç²—ä½“æ ‡è®°
      .replace(/\**(.*?)\*\*/g, '$1')
      .replace(/(.*?) /g, '$1')
      // ç§»é™¤æ–œä½“æ ‡è®°
      .replace(/\*(.*?)\*/g, '$1')
      .replace(/(.*?) /g, '$1')
      // ç§»é™¤ä»£ç æ ‡è®°
      .replace(/(.*?)`/g, '$1')
      // ç§»é™¤é“¾æŽ¥æ ‡è®°
      .replace(/\[(.*?)]\(.*?\)/g, '$1')
      // ç§»é™¤å›¾ç‰‡æ ‡è®°
      .replace(/!\[(.*?)]\(.*?\)/g, '$1')
      // ç§»é™¤åˆ—è¡¨æ ‡è®°
      .replace(/^\s*[-*+]\s+/gm, '')
      .replace(/^\s*\d+\.\s+/gm, '')
      // ç§»é™¤å¼•ç”¨æ ‡è®°
      .replace(/^>\s+/gm, '')
      // ç§»é™¤æ°´å¹³çº¿
      .replace(/^[-* ]{3,}\s*$/gm, '')
      // æ›¿æ¢æ¢è¡Œç¬¦ä¸ºç©ºæ ¼
      .replace(/\n/g, '')
      // åŽ»é™¤å¤šä½™ç©ºæ ¼
      .replace(/\s+/g, '')
      .trim()
  );
};

export const truncateContent = (content: string, maxLength = 30) => {
  if (!content) return '';
  const cleanedContent = cleanMarkdown(content);
  if (cleanedContent.length <= maxLength) return cleanedContent;
  return cleanedContent.substring(0, maxLength) + '...';
};

export const extractTruncatedTitle = (content: string, maxLength = 13) => {
  const title = extractTitleFromContent(content);
  return truncateTitle(title, maxLength);
};

const truncateTitle = (title: string, maxLength = 13): string => {
  if (!title) return 'æ— æ ‡é¢˜';
  if (title.length <= maxLength) return title;
  return title.substring(0, maxLength) + '...';
};

const extractTitleFromContent = (content: string): string => {
  if (!content) return 'æ— æ ‡é¢˜';

  const titleMatch = content.match(/^##\s+(.+?)(?:\n|$)/);
  if (titleMatch && titleMatch[1]) {
    return titleMatch[1].trim();
  }

  const fallbackMatch = content.match(/^#\s+(.+?)(?:\n|$)/);
  if (fallbackMatch && fallbackMatch[1]) {
    return fallbackMatch[1].trim();
  }

  return 'æ— æ ‡é¢˜';
};
